# æ¨¡ç»„å…«ï¼šæ€»æ§æ¨¡å— (Master Control Module)

## é¡¹ç›®æ¦‚è¿°

æ¨¡ç»„å…«æ€»æ§æ¨¡å—æ˜¯NeuroTrade Nexusäº¤æ˜“ç³»ç»Ÿçš„å†³ç­–å¤§è„‘å’ŒæŒ‡æŒ¥ä¸­å¿ƒã€‚ä½œä¸ºç³»ç»Ÿçš„"æ€»å¸ä»¤"ï¼Œå®ƒè´Ÿè´£å…¨å±€ç›‘æ§ã€æ¨¡å¼åˆ‡æ¢å’Œé£é™©ç†”æ–­ï¼Œç¡®ä¿æ•´ä¸ªäº¤æ˜“ç³»ç»Ÿçš„å®‰å…¨ç¨³å®šè¿è¡Œã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ¯ **æˆ˜åœºä»ªè¡¨ç›˜**: å®æ—¶ç›‘æ§ç‰›ç†ŠæŒ‡æ•°ã€æ¿å—è½®åŠ¨ã€å¸‚åœºæ æ†ç‡
- ğŸ’° **èµ„é‡‘æ¨¡å¼åˆ‡æ¢**: æ ¹æ®æ€»èµ„é‡‘é‡è‡ªåŠ¨åˆ‡æ¢å¾®/ä½/æ ‡å‡†èµ„é‡‘æ¨¡å¼
- ğŸš¨ **ç†”æ–­åè®®**: æç«¯é£é™©äº‹ä»¶ä¸‹çš„ä¸€é”®æ¸…ä»“å’Œèµ„äº§è½¬ç§»
- ğŸ§  **è®°å¿†ç½‘ç»œ**: å­˜å‚¨å†å²é‡å¤§äº‹ä»¶å¤„ç½®æ–¹æ¡ˆï¼Œç”¨äºå†³ç­–å‚è€ƒ
- ğŸ”„ **å¾®æœåŠ¡æ¶æ„**: åŸºäºZeroMQçš„é«˜æ€§èƒ½å¼‚æ­¥é€šä¿¡
- ğŸ“Š **å®æ—¶ç›‘æ§**: RedisçŠ¶æ€ç®¡ç†å’ŒSQLiteæŒä¹…åŒ–å­˜å‚¨

## æŠ€æœ¯æ¶æ„

### å‰ç«¯æŠ€æœ¯æ ˆ
- React 18 + TypeScript
- Ant Design + ECharts
- Tailwind CSS
- ZustandçŠ¶æ€ç®¡ç†
- WebSocketå®æ—¶é€šä¿¡

### åç«¯æŠ€æœ¯æ ˆ
- Node.js + Express
- Python + FastAPI (è®¡åˆ’)
- ZeroMQæ¶ˆæ¯æ€»çº¿
- Redisç¼“å­˜
- SQLiteæ•°æ®åº“

### éƒ¨ç½²æŠ€æœ¯
- Docker + Docker Compose
- ä¸‰ç¯å¢ƒéš”ç¦» (development/staging/production)
- Prometheus + Grafanaç›‘æ§

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- npm >= 8.0.0
- Docker >= 20.0.0 (å¯é€‰)
- Python >= 3.9 (åç«¯å¼€å‘)

### å®‰è£…ä¾èµ–

```bash
# å®‰è£…Node.jsä¾èµ–
npm install

# å®‰è£…Pythonä¾èµ– (å¦‚æœéœ€è¦)
pip install -r requirements.txt
```

### ç¯å¢ƒé…ç½®

1. å¤åˆ¶ç¯å¢ƒå˜é‡æ¨¡æ¿:
```bash
cp .env.template .env.development
```

2. ç¼–è¾‘ `.env.development` æ–‡ä»¶ï¼Œå¡«å…¥å¿…è¦çš„é…ç½®ä¿¡æ¯

### å¼€å‘æ¨¡å¼

```bash
# å¯åŠ¨å‰ç«¯å’Œåç«¯å¼€å‘æœåŠ¡å™¨
npm run dev

# ä»…å¯åŠ¨å‰ç«¯
npm run client:dev

# ä»…å¯åŠ¨åç«¯
npm run server:dev
```

### Dockeréƒ¨ç½²

```bash
# å¯åŠ¨æ‰€æœ‰æœåŠ¡
docker-compose up -d

# å¯åŠ¨åŒ…å«ç›‘æ§çš„å®Œæ•´æœåŠ¡
docker-compose --profile monitoring up -d

# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f master_control
```

## é¡¹ç›®ç»“æ„

```
08NeuroHub/
â”œâ”€â”€ src/                    # å‰ç«¯æºç 
â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”œâ”€â”€ pages/             # é¡µé¢ç»„ä»¶
â”‚   â”œâ”€â”€ hooks/             # è‡ªå®šä¹‰Hooks
â”‚   â””â”€â”€ lib/               # å·¥å…·åº“
â”œâ”€â”€ api/                   # åç«¯API
â”‚   â”œâ”€â”€ routes/            # è·¯ç”±å®šä¹‰
â”‚   â””â”€â”€ server.ts          # æœåŠ¡å™¨å…¥å£
â”œâ”€â”€ config/                # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ base.yaml          # åŸºç¡€é…ç½®
â”‚   â”œâ”€â”€ development.yaml   # å¼€å‘ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ staging.yaml       # æµ‹è¯•ç¯å¢ƒé…ç½®
â”‚   â””â”€â”€ production.yaml    # ç”Ÿäº§ç¯å¢ƒé…ç½®
â”œâ”€â”€ database/              # æ•°æ®åº“ç›¸å…³
â”‚   â””â”€â”€ init.sql           # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”œâ”€â”€ logs/                  # æ—¥å¿—æ–‡ä»¶
â”œâ”€â”€ data/                  # æ•°æ®å­˜å‚¨
â”œâ”€â”€ .trae/documents/       # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ docker-compose.yml     # Dockerç¼–æ’é…ç½®
â”œâ”€â”€ Dockerfile            # Dockeré•œåƒé…ç½®
â””â”€â”€ requirements.txt      # Pythonä¾èµ–
```

## æ ¸å¿ƒåŠŸèƒ½æ¨¡å—

### 1. æˆ˜åœºä»ªè¡¨ç›˜
- å®æ—¶ç³»ç»ŸçŠ¶æ€ç›‘æ§
- å¸‚åœºæŒ‡æ ‡å±•ç¤º
- æ¨¡ç»„å¥åº·åº¦æ£€æŸ¥
- å‘Šè­¦é€šçŸ¥ç®¡ç†

### 2. èµ„é‡‘ç®¡ç†
- èµ„é‡‘æ¨¡å¼è‡ªåŠ¨åˆ‡æ¢
- é£é™©æ•å£ç›‘æ§
- é¢„ç®—åˆ†é…ç®¡ç†
- èµ„é‡‘æµå‘åˆ†æ

### 3. ç†”æ–­æ§åˆ¶
- ç´§æ€¥ç†”æ–­è§¦å‘
- é£é™©äº‹ä»¶å¤„ç†
- åº”æ€¥é¢„æ¡ˆæ‰§è¡Œ
- æ“ä½œæ—¥å¿—è®°å½•

### 4. è®°å¿†ç½‘ç»œ
- å†å²äº‹ä»¶å­˜å‚¨
- ç›¸ä¼¼äº‹ä»¶åŒ¹é…
- å†³ç­–æ¨¡å¼å­¦ä¹ 
- ç­–ç•¥ä¼˜åŒ–å»ºè®®

## APIæ–‡æ¡£

### æ ¸å¿ƒæ¥å£

- `GET /api/status/overview` - è·å–ç³»ç»ŸçŠ¶æ€æ¦‚è§ˆ
- `POST /api/commands/execute` - æ‰§è¡Œæ§åˆ¶æŒ‡ä»¤
- `GET /api/memory/events` - æŸ¥è¯¢å†å²äº‹ä»¶
- `WebSocket /ws/realtime` - å®æ—¶æ•°æ®æ¨é€

è¯¦ç»†APIæ–‡æ¡£è¯·å‚è€ƒ [æŠ€æœ¯æ¶æ„æ–‡æ¡£](.trae/documents/æ¨¡ç»„å…«_æ€»æ§æ¨¡å—_æŠ€æœ¯æ¶æ„æ–‡æ¡£.md)

## æ•°æ®éš”ç¦»è§„èŒƒ

é¡¹ç›®ä¸¥æ ¼éµå¾ªæ•°æ®éš”ç¦»ä¸ç¯å¢ƒç®¡ç†è§„èŒƒV1.0ï¼š

1. **ç¯å¢ƒéš”ç¦»**: development/staging/productionä¸‰å¥—ç‹¬ç«‹ç¯å¢ƒ
2. **é…ç½®ç®¡ç†**: æ•æ„Ÿä¿¡æ¯é€šè¿‡ç¯å¢ƒå˜é‡æ³¨å…¥ï¼Œä¸¥ç¦ç¡¬ç¼–ç 
3. **æ•°æ®éš”ç¦»**: å„ç¯å¢ƒä½¿ç”¨ç‹¬ç«‹çš„æ•°æ®åº“å’ŒRediså®ä¾‹
4. **æ—¥å¿—è§„èŒƒ**: åˆ†ç¯å¢ƒçš„æ—¥å¿—çº§åˆ«å’Œè¾“å‡ºé…ç½®

## ç›‘æ§å’Œå‘Šè­¦

### PrometheusæŒ‡æ ‡
- ç³»ç»Ÿå¥åº·åº¦
- æ¨¡ç»„çŠ¶æ€
- é£é™©è¯„åˆ†
- æ€§èƒ½æŒ‡æ ‡

### Grafanaä»ªè¡¨ç›˜
- å®æ—¶ç›‘æ§é¢æ¿
- å†å²è¶‹åŠ¿åˆ†æ
- å‘Šè­¦è§„åˆ™é…ç½®
- æ€§èƒ½åˆ†æå›¾è¡¨

## å¼€å‘æŒ‡å—

### ä»£ç è§„èŒƒ
- TypeScriptä¸¥æ ¼æ¨¡å¼
- ESLintä»£ç æ£€æŸ¥
- Prettierä»£ç æ ¼å¼åŒ–
- ç»„ä»¶åŒ–å¼€å‘

### æäº¤è§„èŒƒ
```bash
# åŠŸèƒ½å¼€å‘
git commit -m "feat: æ·»åŠ æˆ˜åœºä»ªè¡¨ç›˜å®æ—¶ç›‘æ§åŠŸèƒ½"

# é—®é¢˜ä¿®å¤
git commit -m "fix: ä¿®å¤Redisè¿æ¥è¶…æ—¶é—®é¢˜"

# æ–‡æ¡£æ›´æ–°
git commit -m "docs: æ›´æ–°APIæ–‡æ¡£"
```

## éƒ¨ç½²æŒ‡å—

### å¼€å‘ç¯å¢ƒ
```bash
npm run dev
```

### æµ‹è¯•ç¯å¢ƒ
```bash
APP_ENV=staging docker-compose up -d
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
APP_ENV=production docker-compose up -d
```

## æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **ZeroMQè¿æ¥å¤±è´¥**
   - æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
   - ç¡®è®¤é˜²ç«å¢™è®¾ç½®
   - éªŒè¯ç½‘ç»œè¿é€šæ€§

2. **Redisè¿æ¥è¶…æ—¶**
   - æ£€æŸ¥RedisæœåŠ¡çŠ¶æ€
   - éªŒè¯è¿æ¥é…ç½®
   - æŸ¥çœ‹ç½‘ç»œå»¶è¿Ÿ

3. **æ•°æ®åº“é”å®š**
   - æ£€æŸ¥SQLiteæ–‡ä»¶æƒé™
   - ç¡®è®¤WALæ¨¡å¼å¯ç”¨
   - é‡å¯åº”ç”¨æœåŠ¡

## è´¡çŒ®æŒ‡å—

1. Forké¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. åˆ›å»ºPull Request

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

## è”ç³»æ–¹å¼

- é¡¹ç›®æ–‡æ¡£: [.trae/documents/](.trae/documents/)
- æŠ€æœ¯æ”¯æŒ: è¯·åˆ›å»ºIssue
- é‚®ç®±: support@neurotrade.com

---

**æ³¨æ„**: æœ¬é¡¹ç›®ä¸¥æ ¼éµå¾ªæ•°æ®éš”ç¦»ä¸ç¯å¢ƒç®¡ç†è§„èŒƒï¼Œè¯·ç¡®ä¿åœ¨æ­£ç¡®çš„ç¯å¢ƒä¸­è¿›è¡Œå¼€å‘å’Œéƒ¨ç½²ã€‚
