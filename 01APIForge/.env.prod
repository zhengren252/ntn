# API Factory Module - 生产环境配置
# 生产级安全配置，所有敏感信息通过环境变量注入

# =================================================================
# 应用基础配置
# =================================================================
APP_ENV=production
ENV=prod
DEBUG=false
LOG_LEVEL=WARNING
API_TITLE=API Factory Module
API_VERSION=1.0.0
API_DESCRIPTION=API统一管理工厂 - 生产环境

# =================================================================
# 服务端口配置 - 生产环境端口
# =================================================================
API_PORT=8003
ZMQ_PUB_PORT=5565
ZMQ_SUB_PORT=5566
ZMQ_REQ_PORT=5567
ZMQ_REP_PORT=5568

# =================================================================
# Redis配置 - 生产环境
# =================================================================
REDIS_HOST=redis
REDIS_PORT=6382
REDIS_PASSWORD=${REDIS_PASSWORD_PROD}
REDIS_DB=0
REDIS_URL=redis://redis:6382/0

# =================================================================
# 数据库配置
# =================================================================
SQLITE_DB_PATH=/app/data/api_factory_prod.db
DATABASE_PATH=/app/data/api_factory_prod.db

# =================================================================
# JWT认证配置 - 生产环境安全配置
# =================================================================
JWT_SECRET_KEY=${JWT_SECRET_KEY_PROD}
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=15
JWT_REFRESH_EXPIRE_DAYS=1

# =================================================================
# API配额与限流配置 - 生产环境严格限制
# =================================================================
DEFAULT_RATE_LIMIT=50
CIRCUIT_BREAKER_THRESHOLD=3
CIRCUIT_BREAKER_TIMEOUT=120
MAX_REQUESTS_PER_MINUTE=30
MAX_REQUESTS_PER_HOUR=1800

# =================================================================
# 外部API配置 - 生产环境
# =================================================================
# DeepSeek API
DEEPSEEK_API_KEY=${DEEPSEEK_API_KEY_PROD}
DEEPSEEK_BASE_URL=https://api.deepseek.com

# OKX API
OKX_API_KEY=${OKX_API_KEY_PROD}
OKX_SECRET_KEY=${OKX_SECRET_KEY_PROD}
OKX_PASSPHRASE=${OKX_PASSPHRASE_PROD}
OKX_SANDBOX=false
OKX_BASE_URL=https://www.okx.com

# =================================================================
# 监控与日志配置
# =================================================================
PROMETHEUS_PORT=9091
GRAFANA_PORT=3001
GRAFANA_PASSWORD=${GRAFANA_PASSWORD_PROD}
LOG_FILE_PATH=/app/logs/api_factory_prod.log
LOG_MAX_SIZE=100MB
LOG_BACKUP_COUNT=30

# =================================================================
# Docker容器资源配置 - 生产环境
# =================================================================
CONTAINER_MEMORY_LIMIT=1024m
CONTAINER_CPU_LIMIT=1.0
NGINX_PORT=80
NGINX_SSL_PORT=443

# =================================================================
# 安全配置 - 生产环境严格安全
# =================================================================
CORS_ORIGINS=["https://yourdomain.com"]
ALLOWED_HOSTS=["yourdomain.com","api.yourdomain.com"]
SECURE_COOKIES=true
HTTPS_ONLY=true