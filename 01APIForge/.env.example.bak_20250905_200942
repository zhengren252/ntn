<<<<<<< HEAD
# API Factory Environment Configuration

# Application Settings
APP_ENV=development
APP_NAME="NTN API Factory"
APP_VERSION=1.0.0
DEBUG=true

# Server Configuration
HOST=0.0.0.0
PORT=8000
WORKERS=1

# Database Configuration
DATABASE_URL=sqlite:///./data/api_factory.db
DATABASE_ECHO=false

# Redis Configuration
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=ntn_redis_2024
REDIS_DB=0
REDIS_MAX_CONNECTIONS=10

# ZeroMQ Configuration
ZMQ_PUBLISHER_PORT=5555
ZMQ_SUBSCRIBER_PORT=5556
ZMQ_CONTEXT_IO_THREADS=1

# Security Configuration
JWT_SECRET_KEY=your-super-secret-jwt-key-change-this-in-production
=======
# ===================================================================
# API Factory Module - 环境配置模板
# 版本: V2.1 (新增Supabase和加密支持)
# 描述: 统一API管理工厂的完整环境配置
# ===================================================================

# ===========================================
# 基础环境配置
# ===========================================
# 环境类型: development, staging, production
ENV=development

# 调试模式
DEBUG=true

# 日志级别: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO

# ===========================================
# API服务配置
# ===========================================
# API服务端口
API_PORT=8000

# API标题和版本
API_TITLE=API Factory Module
API_VERSION=1.0.0

# API文档配置
API_DOCS_URL=/docs
API_REDOC_URL=/redoc

# CORS配置
CORS_ORIGINS=http://localhost:3000,http://localhost:8080
CORS_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_HEADERS=*

# ===========================================
# ZeroMQ配置
# ===========================================
# ZeroMQ端口配置
ZMQ_PUB_PORT=5555
ZMQ_SUB_PORT=5556
ZMQ_REQ_PORT=5557
ZMQ_REP_PORT=5558

# ZeroMQ连接配置
ZMQ_BIND_ADDRESS=*
ZMQ_CONNECT_ADDRESS=localhost

# 消息队列配置
ZMQ_HIGH_WATER_MARK=1000
ZMQ_LINGER_MS=1000
ZMQ_RECONNECT_INTERVAL_MS=1000

# ===========================================
# Redis配置
# ===========================================
# Redis连接配置
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# Redis连接池配置
REDIS_MAX_CONNECTIONS=20
REDIS_RETRY_ON_TIMEOUT=true
REDIS_SOCKET_TIMEOUT=5
REDIS_SOCKET_CONNECT_TIMEOUT=5

# Redis缓存配置
REDIS_DEFAULT_TTL=3600
REDIS_SESSION_TTL=1800
REDIS_CACHE_PREFIX=api_factory

# ===========================================
# SQLite配置
# ===========================================
# SQLite数据库路径
SQLITE_DB_PATH=./data/api_factory.db

# 数据库连接配置
SQLITE_TIMEOUT=30
SQLITE_CHECK_SAME_THREAD=false
SQLITE_WAL_MODE=true

# 数据库备份配置
SQLITE_BACKUP_ENABLED=true
SQLITE_BACKUP_INTERVAL_HOURS=24
SQLITE_BACKUP_RETENTION_DAYS=7

# ===========================================
# Supabase配置
# ===========================================
# Supabase项目URL
SUPABASE_URL=https://your-project.supabase.co

# Supabase匿名密钥（用于客户端访问）
SUPABASE_ANON_KEY=your_anon_key_here

# Supabase服务角色密钥（用于服务端访问）
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# API密钥表名
SUPABASE_API_KEYS_TABLE=api_keys

# ===========================================
# 认证配置
# ===========================================
# JWT密钥配置（生产环境必须更改）
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production-min-32-chars
>>>>>>> 4d5ab11 (chore: init repo (private) [skip ci])
JWT_ALGORITHM=HS256
JWT_EXPIRE_MINUTES=30
JWT_REFRESH_EXPIRE_DAYS=7

<<<<<<< HEAD
# API Rate Limiting
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60

# Circuit Breaker Configuration
CIRCUIT_BREAKER_FAILURE_THRESHOLD=5
CIRCUIT_BREAKER_RECOVERY_TIMEOUT=60
CIRCUIT_BREAKER_EXPECTED_EXCEPTION=Exception

# Logging Configuration
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/api_factory.log
LOG_MAX_SIZE=10MB
LOG_BACKUP_COUNT=5

# Monitoring Configuration
METRICS_ENABLED=true
METRICS_PORT=9090
HEALTH_CHECK_INTERVAL=30

# External API Configuration
OKX_API_KEY=your-okx-api-key
OKX_SECRET_KEY=your-okx-secret-key
OKX_PASSPHRASE=your-okx-passphrase
OKX_SANDBOX=true

DEEPSEEK_API_KEY=your-deepseek-api-key
DEEPSEEK_BASE_URL=https://api.deepseek.com

# Development Settings
RELOAD=true
AUTO_RELOAD=true
DEV_MODE=true

# Testing Configuration
TEST_DATABASE_URL=sqlite:///./data/test_api_factory.db
TEST_REDIS_DB=1

# Production Settings (uncomment for production)
# APP_ENV=production
# DEBUG=false
# WORKERS=4
# RELOAD=false
# AUTO_RELOAD=false
# DEV_MODE=false
# LOG_LEVEL=WARNING
=======
# API密钥配置
API_KEY_LENGTH=32
API_KEY_PREFIX=ak_
API_KEY_EXPIRE_DAYS=365

# 密码策略
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBERS=true
PASSWORD_REQUIRE_SYMBOLS=false

# ===========================================
# 加密配置
# ===========================================
# 加密密钥（32字节，base64编码）
# 生成方法: python -c "import secrets, base64; print(base64.b64encode(secrets.token_bytes(32)).decode())"
ENCRYPTION_KEY=your_base64_encoded_32_byte_encryption_key_here

# 加密算法
ENCRYPTION_ALGORITHM=AES-256-GCM

# ===========================================
# API配额和限流配置
# ===========================================
# 默认限流配置
DEFAULT_RATE_LIMIT=100
DEFAULT_RATE_LIMIT_WINDOW=60

# 熔断器配置
CIRCUIT_BREAKER_THRESHOLD=5
CIRCUIT_BREAKER_TIMEOUT=60
CIRCUIT_BREAKER_HALF_OPEN_MAX_CALLS=3

# API超时配置
API_REQUEST_TIMEOUT=30
API_CONNECTION_TIMEOUT=10

# ===========================================
# 集群配置
# ===========================================
# 节点配置
NODE_NAME=api-factory-node-01
NODE_REGION=us-east-1
NODE_ZONE=us-east-1a

# 负载均衡配置
LOAD_BALANCE_STRATEGY=weighted_round_robin
HEALTH_CHECK_INTERVAL=30
HEALTH_CHECK_TIMEOUT=10
HEALTH_CHECK_RETRIES=3

# 服务发现配置
SERVICE_DISCOVERY_ENABLED=true
SERVICE_REGISTRY_TTL=60

# ===========================================
# 外部API配置
# ===========================================
# 交易所API配置
BINANCE_API_KEY=your-binance-api-key
BINANCE_SECRET_KEY=your-binance-secret-key
BINANCE_BASE_URL=https://api.binance.com

# 大模型API配置
OPENAI_API_KEY=your-openai-api-key
OPENAI_BASE_URL=https://api.openai.com/v1
OPENAI_MODEL=gpt-4

# 数据源API配置
YAHOO_FINANCE_API_KEY=your-yahoo-finance-api-key
ALPHA_VANTAGE_API_KEY=your-alpha-vantage-api-key

# ===========================================
# 监控和日志配置
# ===========================================
# 日志配置
LOG_FORMAT=json
LOG_FILE_PATH=./logs/api_factory.log
LOG_MAX_SIZE_MB=100
LOG_BACKUP_COUNT=5
LOG_ROTATION=daily

# 监控配置
MONITORING_ENABLED=true
METRICS_ENDPOINT=/metrics
HEALTH_ENDPOINT=/health

# Prometheus配置
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_PATH=/metrics

# Grafana配置
GRAFANA_PORT=3000
GRAFANA_PASSWORD=admin

# ===========================================
# Docker配置
# ===========================================
# Nginx配置
NGINX_PORT=80
NGINX_SSL_PORT=443

# 容器资源限制
CONTAINER_MEMORY_LIMIT=512m
CONTAINER_CPU_LIMIT=0.5

# ===========================================
# 安全配置
# ===========================================
# HTTPS配置
SSL_ENABLED=false
SSL_CERT_PATH=./config/ssl/cert.pem
SSL_KEY_PATH=./config/ssl/key.pem

# 安全头配置
SECURITY_HEADERS_ENABLED=true
CSRF_PROTECTION_ENABLED=true
RATE_LIMITING_ENABLED=true

# IP白名单（逗号分隔）
ALLOWED_IPS=127.0.0.1,::1

# ===========================================
# 开发环境特定配置
# ===========================================
# 开发工具配置
HOT_RELOAD=true
AUTO_RELOAD=true
DEV_MODE=true

# 测试配置
TEST_DATABASE_URL=sqlite:///./test_api_factory.db
TEST_REDIS_DB=1

# ===========================================
# 生产环境特定配置
# ===========================================
# 性能配置
WORKERS=4
WORKER_CONNECTIONS=1000
KEEP_ALIVE=2

# 缓存配置
CACHE_ENABLED=true
CACHE_DEFAULT_TTL=3600
CACHE_MAX_SIZE=1000

# 备份配置
BACKUP_ENABLED=true
BACKUP_S3_BUCKET=api-factory-backups
BACKUP_S3_REGION=us-east-1
>>>>>>> 4d5ab11 (chore: init repo (private) [skip ci])
