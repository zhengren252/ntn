================================================================================
TACoreService 验收测试报告
================================================================================
生成时间: 2025-08-08 20:37:16

测试摘要:
----------------------------------------
总测试数: 16
通过测试: 4
失败测试: 12
成功率: 25.0%
总耗时: 146.62s

详细测试结果:
----------------------------------------

[API-ZMQ-BUSINESS] 核心业务API测试 (ZeroMQ)
------------------------------------------------------------
✗ ZMQ-API-01: scan.market - 成功路径
   执行时间: 17.059s
   错误: 请求超时或连接失败

✗ ZMQ-API-02: execute.order - 成功路径
   执行时间: 17.036s
   错误: 请求超时或连接失败

✗ ZMQ-API-03: evaluate.risk - 成功路径
   执行时间: 17.034s
   错误: 请求超时或连接失败

✗ ZMQ-API-04: 无效方法测试
   执行时间: 17.050s
   错误: 请求超时或连接失败


[API-HTTP-MONITORING] 监控管理API测试 (HTTP)
------------------------------------------------------------
✓ HTTP-API-01: GET /status - 服务状态接口
   执行时间: 0.030s
   验证点:
     ✓ 验证HTTP状态码为 200 OK
       实际状态码: 200
     ✓ 验证响应JSON体中包含关键字段
       所有必需字段都存在
     ✓ 验证字段类型和值的合理性
       service_name: TACoreService (字符串); status: running (字符串); uptime: 98.14377999305725 (有效)

✓ HTTP-API-02: GET /workers - 工作进程列表接口
   执行时间: 0.037s
   验证点:
     ✓ 验证HTTP状态码为 200 OK
       实际状态码: 200
     ✓ 验证响应JSON体是一个数组
       响应类型: list, 长度: 77
     ✓ 验证数组中每个对象的结构都符合规格
       Worker 0: 结构正确 (ID: worker-3fc3d37d, 状态: idle); Worker 1: 结构正确 (ID: worker-35676dad, 状态: idle); Worker 2: 结构正确 (ID: worker-0de74f72, 状态: stopped)

✓ HTTP-API-03: GET /logs - 日志获取接口
   执行时间: 0.008s
   验证点:
     ✓ 验证HTTP状态码为 200 OK
       实际状态码: 200
     ✓ 验证返回的日志条数不超过50条
       实际日志条数: 0
     ✓ 验证返回的日志级别均为INFO或更高级别
       无日志数据


[PERF-LOAD-BALANCING] 负载均衡与可扩展性测试
------------------------------------------------------------
✗ LB-01: 请求分发验证
   执行时间: 10.173s
   验证点:
     ✗ 验证大部分请求成功 (成功率 >= 80%)
       成功率: 0.0% (0/20)
     ✗ 验证响应时间分布合理 (表明负载均衡有效)
       没有成功的请求，无法分析响应时间
     ✓ 验证请求ID唯一性 (无重复处理)
       唯一ID数: 0, 总响应数: 0

✗ SCALE-01: 水平扩展能力验证
   执行时间: 15.444s
   验证点:
     ✗ 验证系统能够处理持续负载
       成功处理 0/15 个请求
     ✗ 验证吞吐量合理 (>= 1.0 req/s)
       实际吞吐量: 0.00 req/s
     ✗ 验证成功率合理 (>= 70%)
       成功率: 0.0%

✗ PERF-01: 负载下的性能表现
   执行时间: 10.235s
   验证点:
     ✗ 验证所有测试场景的成功率 (>= 70%)
       轻量级请求 (scan.market): 0.0%; 中等复杂度请求 (evaluate.risk): 0.0%
     ✓ 验证平均响应时间合理 (< 10s)
       轻量级请求 (scan.market): 0.000s; 中等复杂度请求 (evaluate.risk): 0.000s


[SYS-HIGH-AVAILABILITY] 高可用与弹性测试
------------------------------------------------------------
✗ HA-01: 工作进程故障转移
   执行时间: 3.178s
   错误: 服务初始状态不健康，无法进行故障转移测试
   验证点:
     ✗ 验证服务初始状态健康
       HTTP: False, ZMQ: False

✗ HA-02: 客户端自动重试 (Lazy Pirate)
   执行时间: 3.034s
   错误: 服务初始状态不健康，无法进行重试测试
   验证点:
     ✗ 验证服务初始状态健康
       HTTP: False, ZMQ: False

✗ HA-03: 服务恢复能力测试
   执行时间: 8.082s
   验证点:
     ✗ 验证HTTP监控API恢复正常
       HTTP API状态: False
     ✗ 验证ZMQ业务API恢复正常
       ZMQ API状态: False
     ✗ 验证服务整体恢复健康
       整体健康状态: False


[DATA-PERSISTENCE] 数据层集成测试
------------------------------------------------------------
✓ DATA-03: 数据库连接性验证
   执行时间: 0.051s
   验证点:
     ✓ 验证SQLite数据库连接和表结构
       连接: True, request_logs表存在: True
     ✓ 验证Redis缓存连接和基本操作
       连接: True, 基本操作: True

✗ DATA-01: SQLite 请求日志持久化
   执行时间: 11.029s
   错误: execute.order请求失败，无法验证日志持久化
   验证点:
     ✗ 验证execute.order请求成功
       响应状态: None

✗ DATA-02: Redis 缓存机制验证
   执行时间: 11.052s
   错误: 第一个evaluate.risk请求失败
   验证点:
     ✗ 验证第一个evaluate.risk请求成功
       响应状态: None, 耗时: 11.027s

================================================================================