{
  "report_info": {
    "title": "TACoreService 验收测试报告",
    "version": "1.0.0",
    "generated_at": "2025-08-08T15:19:31.367496",
    "plan_id": "ACCEPTANCE-TEST-PLAN-M12-TACORESVC-V1.0"
  },
  "summary": {
    "timestamp": "2025-08-08 15:19:31",
    "total_tests": 16,
    "passed_tests": 0,
    "failed_tests": 16,
    "success_rate": 0.0,
    "total_duration": 31.53492259979248
  },
  "test_results": [
    {
      "case_id": "ZMQ-API-01",
      "title": "scan.market - 成功路径",
      "suite_id": "API-ZMQ-BUSINESS",
      "suite_name": "核心业务API测试 (ZeroMQ)",
      "status": "FAIL",
      "duration": 0.0778801441192627,
      "verification_results": [
        {
          "description": "验证响应中的 status 字段为 'success'",
          "passed": false,
          "details": "实际状态: error"
        },
        {
          "description": "验证响应中的 request_id 与请求的ID匹配",
          "passed": true,
          "details": "请求ID: test_20250808_151859_aa15617a, 响应ID: test_20250808_151859_aa15617a"
        },
        {
          "description": "验证响应中的 opportunities 字段是一个数组",
          "passed": false,
          "details": "opportunities类型: NoneType, 长度: N/A"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "ZMQ-API-02",
      "title": "execute.order - 成功路径",
      "suite_id": "API-ZMQ-BUSINESS",
      "suite_name": "核心业务API测试 (ZeroMQ)",
      "status": "FAIL",
      "duration": 0.021111249923706055,
      "verification_results": [
        {
          "description": "验证响应中的 status 字段为 'success'",
          "passed": false,
          "details": "实际状态: error"
        },
        {
          "description": "验证响应中的 order_id 字段是一个非空字符串",
          "passed": false,
          "details": "order_id: None, 类型: NoneType"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "ZMQ-API-03",
      "title": "evaluate.risk - 成功路径",
      "suite_id": "API-ZMQ-BUSINESS",
      "suite_name": "核心业务API测试 (ZeroMQ)",
      "status": "FAIL",
      "duration": 0.021193742752075195,
      "verification_results": [
        {
          "description": "验证响应中的 risk_score 是一个数字",
          "passed": false,
          "details": "risk_score: None, 类型: NoneType"
        },
        {
          "description": "验证响应中的 risk_level 是 'low', 'medium', 'high' 之一",
          "passed": false,
          "details": "risk_level: None, 有效值: ['low', 'medium', 'high']"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "ZMQ-API-04",
      "title": "无效方法测试",
      "suite_id": "API-ZMQ-BUSINESS",
      "suite_name": "核心业务API测试 (ZeroMQ)",
      "status": "FAIL",
      "duration": 0.008755922317504883,
      "verification_results": [
        {
          "description": "验证响应中的 status 字段为 'error'",
          "passed": true,
          "details": "实际状态: error"
        }
      ],
      "error_message": "'str' object has no attribute 'get'"
    },
    {
      "case_id": "HTTP-API-01",
      "title": "GET /status - 服务状态接口",
      "suite_id": "API-HTTP-MONITORING",
      "suite_name": "监控管理API测试 (HTTP)",
      "status": "FAIL",
      "duration": 0.014952421188354492,
      "verification_results": [
        {
          "description": "验证HTTP状态码为 200 OK",
          "passed": false,
          "details": "实际状态码: 404"
        },
        {
          "description": "验证响应JSON体中包含关键字段",
          "passed": false,
          "details": "缺失字段: ['service_status', 'active_workers', 'total_requests_processed']"
        },
        {
          "description": "验证字段类型和值的合理性",
          "passed": false,
          "details": "service_status: None (类型错误: NoneType); active_workers: None (无效); total_requests_processed: None (无效)"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "HTTP-API-02",
      "title": "GET /workers - 工作进程列表接口",
      "suite_id": "API-HTTP-MONITORING",
      "suite_name": "监控管理API测试 (HTTP)",
      "status": "FAIL",
      "duration": 0.0009999275207519531,
      "verification_results": [
        {
          "description": "验证HTTP状态码为 200 OK",
          "passed": false,
          "details": "实际状态码: 404"
        },
        {
          "description": "验证响应JSON体是一个数组",
          "passed": false,
          "details": "响应类型: dict, 长度: N/A"
        },
        {
          "description": "验证数组中每个对象的结构都符合规格",
          "passed": true,
          "details": "工作进程列表为空"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "HTTP-API-03",
      "title": "GET /logs - 日志获取接口",
      "suite_id": "API-HTTP-MONITORING",
      "suite_name": "监控管理API测试 (HTTP)",
      "status": "FAIL",
      "duration": 0.007941246032714844,
      "verification_results": [
        {
          "description": "验证HTTP状态码为 200 OK",
          "passed": false,
          "details": "实际状态码: 404"
        },
        {
          "description": "验证返回的日志条数不超过50条",
          "passed": true,
          "details": "实际日志条数: 0"
        },
        {
          "description": "验证返回的日志级别均为INFO或更高级别",
          "passed": true,
          "details": "无日志数据"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "LB-01",
      "title": "请求分发验证",
      "suite_id": "PERF-LOAD-BALANCING",
      "suite_name": "负载均衡与可扩展性测试",
      "status": "FAIL",
      "duration": 0.21367931365966797,
      "verification_results": [
        {
          "description": "验证大部分请求成功 (成功率 >= 80%)",
          "passed": false,
          "details": "成功率: 0.0% (0/20)"
        },
        {
          "description": "验证响应时间分布合理 (表明负载均衡有效)",
          "passed": false,
          "details": "没有成功的请求，无法分析响应时间"
        },
        {
          "description": "验证请求ID唯一性 (无重复处理)",
          "passed": true,
          "details": "唯一ID数: 0, 总响应数: 0"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "SCALE-01",
      "title": "水平扩展能力验证",
      "suite_id": "PERF-LOAD-BALANCING",
      "suite_name": "负载均衡与可扩展性测试",
      "status": "FAIL",
      "duration": 15.030863523483276,
      "verification_results": [
        {
          "description": "验证系统能够处理持续负载",
          "passed": false,
          "details": "成功处理 0/465 个请求"
        },
        {
          "description": "验证吞吐量合理 (>= 1.0 req/s)",
          "passed": false,
          "details": "实际吞吐量: 0.00 req/s"
        },
        {
          "description": "验证成功率合理 (>= 70%)",
          "passed": false,
          "details": "成功率: 0.0%"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "PERF-01",
      "title": "负载下的性能表现",
      "suite_id": "PERF-LOAD-BALANCING",
      "suite_name": "负载均衡与可扩展性测试",
      "status": "FAIL",
      "duration": 0.23301005363464355,
      "verification_results": [
        {
          "description": "验证所有测试场景的成功率 (>= 70%)",
          "passed": false,
          "details": "轻量级请求 (scan.market): 0.0%; 中等复杂度请求 (evaluate.risk): 0.0%"
        },
        {
          "description": "验证平均响应时间合理 (< 10s)",
          "passed": true,
          "details": "轻量级请求 (scan.market): 0.000s; 中等复杂度请求 (evaluate.risk): 0.000s"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "HA-01",
      "title": "工作进程故障转移",
      "suite_id": "SYS-HIGH-AVAILABILITY",
      "suite_name": "高可用与弹性测试",
      "status": "FAIL",
      "duration": 0.16959452629089355,
      "verification_results": [
        {
          "description": "验证服务初始状态健康",
          "passed": false,
          "details": "HTTP: False, ZMQ: True"
        }
      ],
      "error_message": "服务初始状态不健康，无法进行故障转移测试"
    },
    {
      "case_id": "HA-02",
      "title": "客户端自动重试 (Lazy Pirate)",
      "suite_id": "SYS-HIGH-AVAILABILITY",
      "suite_name": "高可用与弹性测试",
      "status": "FAIL",
      "duration": 0.0635995864868164,
      "verification_results": [
        {
          "description": "验证服务初始状态健康",
          "passed": false,
          "details": "HTTP: False, ZMQ: True"
        }
      ],
      "error_message": "服务初始状态不健康，无法进行重试测试"
    },
    {
      "case_id": "HA-03",
      "title": "服务恢复能力测试",
      "suite_id": "SYS-HIGH-AVAILABILITY",
      "suite_name": "高可用与弹性测试",
      "status": "FAIL",
      "duration": 2.1202917098999023,
      "verification_results": [
        {
          "description": "验证HTTP监控API恢复正常",
          "passed": false,
          "details": "HTTP API状态: False"
        },
        {
          "description": "验证ZMQ业务API恢复正常",
          "passed": true,
          "details": "ZMQ API状态: True"
        },
        {
          "description": "验证服务整体恢复健康",
          "passed": false,
          "details": "整体健康状态: False"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "DATA-03",
      "title": "数据库连接性验证",
      "suite_id": "DATA-PERSISTENCE",
      "suite_name": "数据层集成测试",
      "status": "FAIL",
      "duration": 4.074057102203369,
      "verification_results": [
        {
          "description": "验证SQLite数据库连接和表结构",
          "passed": false,
          "details": "连接: True, request_logs表存在: False"
        },
        {
          "description": "验证Redis缓存连接和基本操作",
          "passed": false,
          "details": "连接: False, 基本操作: False"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "DATA-01",
      "title": "SQLite 请求日志持久化",
      "suite_id": "DATA-PERSISTENCE",
      "suite_name": "数据层集成测试",
      "status": "FAIL",
      "duration": 0.03984546661376953,
      "verification_results": [
        {
          "description": "验证execute.order请求成功",
          "passed": false,
          "details": "响应状态: error"
        }
      ],
      "error_message": "execute.order请求失败，无法验证日志持久化"
    },
    {
      "case_id": "DATA-02",
      "title": "Redis 缓存机制验证",
      "suite_id": "DATA-PERSISTENCE",
      "suite_name": "数据层集成测试",
      "status": "FAIL",
      "duration": 4.05837082862854,
      "verification_results": [],
      "error_message": "无法连接Redis缓存"
    }
  ]
}