{
  "report_info": {
    "title": "TACoreService 验收测试报告",
    "version": "1.0.0",
    "generated_at": "2025-08-08T17:35:53.721053",
    "plan_id": "ACCEPTANCE-TEST-PLAN-M12-TACORESVC-V1.0"
  },
  "summary": {
    "timestamp": "2025-08-08 17:35:53",
    "total_tests": 16,
    "passed_tests": 3,
    "failed_tests": 13,
    "success_rate": 18.75,
    "total_duration": 35.58505702018738
  },
  "test_results": [
    {
      "case_id": "ZMQ-API-01",
      "title": "scan.market - 成功路径",
      "suite_id": "API-ZMQ-BUSINESS",
      "suite_name": "核心业务API测试 (ZeroMQ)",
      "status": "FAIL",
      "duration": 12.028606176376343,
      "verification_results": [
        {
          "description": "验证响应中的 status 字段为 'success'",
          "passed": false,
          "details": "实际状态: error"
        },
        {
          "description": "验证响应中的 request_id 与请求的ID匹配",
          "passed": true,
          "details": "请求ID: test_20250808_173518_7bc50009, 响应ID: test_20250808_173518_7bc50009"
        },
        {
          "description": "验证响应中的 opportunities 字段是一个数组",
          "passed": false,
          "details": "opportunities类型: NoneType, 长度: N/A"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "ZMQ-API-02",
      "title": "execute.order - 成功路径",
      "suite_id": "API-ZMQ-BUSINESS",
      "suite_name": "核心业务API测试 (ZeroMQ)",
      "status": "FAIL",
      "duration": 0.006548881530761719,
      "verification_results": [
        {
          "description": "验证响应中的 status 字段为 'success'",
          "passed": false,
          "details": "实际状态: error"
        },
        {
          "description": "验证响应中的 order_id 字段是一个非空字符串",
          "passed": false,
          "details": "order_id: None, 类型: NoneType"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "ZMQ-API-03",
      "title": "evaluate.risk - 成功路径",
      "suite_id": "API-ZMQ-BUSINESS",
      "suite_name": "核心业务API测试 (ZeroMQ)",
      "status": "FAIL",
      "duration": 0.0064623355865478516,
      "verification_results": [
        {
          "description": "验证响应中的 risk_score 是一个数字",
          "passed": false,
          "details": "risk_score: None, 类型: NoneType"
        },
        {
          "description": "验证响应中的 risk_level 是 'low', 'medium', 'high' 之一",
          "passed": false,
          "details": "risk_level: None, 有效值: ['low', 'medium', 'high']"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "ZMQ-API-04",
      "title": "无效方法测试",
      "suite_id": "API-ZMQ-BUSINESS",
      "suite_name": "核心业务API测试 (ZeroMQ)",
      "status": "FAIL",
      "duration": 0.005794048309326172,
      "verification_results": [
        {
          "description": "验证响应中的 status 字段为 'error'",
          "passed": true,
          "details": "实际状态: error"
        }
      ],
      "error_message": "'str' object has no attribute 'get'"
    },
    {
      "case_id": "HTTP-API-01",
      "title": "GET /status - 服务状态接口",
      "suite_id": "API-HTTP-MONITORING",
      "suite_name": "监控管理API测试 (HTTP)",
      "status": "PASS",
      "duration": 0.0084228515625,
      "verification_results": [
        {
          "description": "验证HTTP状态码为 200 OK",
          "passed": true,
          "details": "实际状态码: 200"
        },
        {
          "description": "验证响应JSON体中包含关键字段",
          "passed": true,
          "details": "所有必需字段都存在"
        },
        {
          "description": "验证字段类型和值的合理性",
          "passed": true,
          "details": "service_name: TACoreService (字符串); status: running (字符串); uptime: 49.466859579086304 (有效)"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "HTTP-API-02",
      "title": "GET /workers - 工作进程列表接口",
      "suite_id": "API-HTTP-MONITORING",
      "suite_name": "监控管理API测试 (HTTP)",
      "status": "PASS",
      "duration": 0.004914999008178711,
      "verification_results": [
        {
          "description": "验证HTTP状态码为 200 OK",
          "passed": true,
          "details": "实际状态码: 200"
        },
        {
          "description": "验证响应JSON体是一个数组",
          "passed": true,
          "details": "响应类型: list, 长度: 43"
        },
        {
          "description": "验证数组中每个对象的结构都符合规格",
          "passed": true,
          "details": "Worker 0: 结构正确 (ID: worker-02502a9c, 状态: idle); Worker 1: 结构正确 (ID: worker-e0202e7e, 状态: idle); Worker 2: 结构正确 (ID: worker-3a666905, 状态: stopped)"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "HTTP-API-03",
      "title": "GET /logs - 日志获取接口",
      "suite_id": "API-HTTP-MONITORING",
      "suite_name": "监控管理API测试 (HTTP)",
      "status": "PASS",
      "duration": 0.006055116653442383,
      "verification_results": [
        {
          "description": "验证HTTP状态码为 200 OK",
          "passed": true,
          "details": "实际状态码: 200"
        },
        {
          "description": "验证返回的日志条数不超过50条",
          "passed": true,
          "details": "实际日志条数: 0"
        },
        {
          "description": "验证返回的日志级别均为INFO或更高级别",
          "passed": true,
          "details": "无日志数据"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "LB-01",
      "title": "请求分发验证",
      "suite_id": "PERF-LOAD-BALANCING",
      "suite_name": "负载均衡与可扩展性测试",
      "status": "FAIL",
      "duration": 0.20893549919128418,
      "verification_results": [
        {
          "description": "验证大部分请求成功 (成功率 >= 80%)",
          "passed": false,
          "details": "成功率: 0.0% (0/20)"
        },
        {
          "description": "验证响应时间分布合理 (表明负载均衡有效)",
          "passed": false,
          "details": "没有成功的请求，无法分析响应时间"
        },
        {
          "description": "验证请求ID唯一性 (无重复处理)",
          "passed": true,
          "details": "唯一ID数: 0, 总响应数: 0"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "SCALE-01",
      "title": "水平扩展能力验证",
      "suite_id": "PERF-LOAD-BALANCING",
      "suite_name": "负载均衡与可扩展性测试",
      "status": "FAIL",
      "duration": 15.119161128997803,
      "verification_results": [
        {
          "description": "验证系统能够处理持续负载",
          "passed": false,
          "details": "成功处理 0/435 个请求"
        },
        {
          "description": "验证吞吐量合理 (>= 1.0 req/s)",
          "passed": false,
          "details": "实际吞吐量: 0.00 req/s"
        },
        {
          "description": "验证成功率合理 (>= 70%)",
          "passed": false,
          "details": "成功率: 0.0%"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "PERF-01",
      "title": "负载下的性能表现",
      "suite_id": "PERF-LOAD-BALANCING",
      "suite_name": "负载均衡与可扩展性测试",
      "status": "FAIL",
      "duration": 0.2230544090270996,
      "verification_results": [
        {
          "description": "验证所有测试场景的成功率 (>= 70%)",
          "passed": false,
          "details": "轻量级请求 (scan.market): 0.0%; 中等复杂度请求 (evaluate.risk): 0.0%"
        },
        {
          "description": "验证平均响应时间合理 (< 10s)",
          "passed": true,
          "details": "轻量级请求 (scan.market): 0.000s; 中等复杂度请求 (evaluate.risk): 0.000s"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "HA-01",
      "title": "工作进程故障转移",
      "suite_id": "SYS-HIGH-AVAILABILITY",
      "suite_name": "高可用与弹性测试",
      "status": "FAIL",
      "duration": 0.19040584564208984,
      "verification_results": [
        {
          "description": "验证服务初始状态健康",
          "passed": false,
          "details": "HTTP: False, ZMQ: True"
        }
      ],
      "error_message": "服务初始状态不健康，无法进行故障转移测试"
    },
    {
      "case_id": "HA-02",
      "title": "客户端自动重试 (Lazy Pirate)",
      "suite_id": "SYS-HIGH-AVAILABILITY",
      "suite_name": "高可用与弹性测试",
      "status": "FAIL",
      "duration": 0.018976688385009766,
      "verification_results": [
        {
          "description": "验证服务初始状态健康",
          "passed": false,
          "details": "HTTP: False, ZMQ: True"
        }
      ],
      "error_message": "服务初始状态不健康，无法进行重试测试"
    },
    {
      "case_id": "HA-03",
      "title": "服务恢复能力测试",
      "suite_id": "SYS-HIGH-AVAILABILITY",
      "suite_name": "高可用与弹性测试",
      "status": "FAIL",
      "duration": 2.076087236404419,
      "verification_results": [
        {
          "description": "验证HTTP监控API恢复正常",
          "passed": false,
          "details": "HTTP API状态: False"
        },
        {
          "description": "验证ZMQ业务API恢复正常",
          "passed": true,
          "details": "ZMQ API状态: True"
        },
        {
          "description": "验证服务整体恢复健康",
          "passed": false,
          "details": "整体健康状态: False"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "DATA-03",
      "title": "数据库连接性验证",
      "suite_id": "DATA-PERSISTENCE",
      "suite_name": "数据层集成测试",
      "status": "FAIL",
      "duration": 0.027221202850341797,
      "verification_results": [
        {
          "description": "验证SQLite数据库连接和表结构",
          "passed": false,
          "details": "连接: True, request_logs表存在: False"
        },
        {
          "description": "验证Redis缓存连接和基本操作",
          "passed": true,
          "details": "连接: True, 基本操作: True"
        }
      ],
      "error_message": null
    },
    {
      "case_id": "DATA-01",
      "title": "SQLite 请求日志持久化",
      "suite_id": "DATA-PERSISTENCE",
      "suite_name": "数据层集成测试",
      "status": "FAIL",
      "duration": 0.0315096378326416,
      "verification_results": [
        {
          "description": "验证execute.order请求成功",
          "passed": false,
          "details": "响应状态: error"
        }
      ],
      "error_message": "execute.order请求失败，无法验证日志持久化"
    },
    {
      "case_id": "DATA-02",
      "title": "Redis 缓存机制验证",
      "suite_id": "DATA-PERSISTENCE",
      "suite_name": "数据层集成测试",
      "status": "FAIL",
      "duration": 0.04074597358703613,
      "verification_results": [
        {
          "description": "验证第一个evaluate.risk请求成功",
          "passed": false,
          "details": "响应状态: error, 耗时: 0.022s"
        }
      ],
      "error_message": "第一个evaluate.risk请求失败"
    }
  ]
}