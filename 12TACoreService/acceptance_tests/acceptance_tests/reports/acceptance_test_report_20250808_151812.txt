================================================================================
TACoreService 验收测试报告
================================================================================
生成时间: 2025-08-08 15:18:12

测试摘要:
----------------------------------------
总测试数: 16
通过测试: 0
失败测试: 16
成功率: 0.0%
总耗时: 31.49s

详细测试结果:
----------------------------------------

[API-ZMQ-BUSINESS] 核心业务API测试 (ZeroMQ)
------------------------------------------------------------
✗ ZMQ-API-01: scan.market - 成功路径
   执行时间: 0.094s
   验证点:
     ✗ 验证响应中的 status 字段为 'success'
       实际状态: error
     ✓ 验证响应中的 request_id 与请求的ID匹配
       请求ID: test_20250808_151741_c4d4b52a, 响应ID: test_20250808_151741_c4d4b52a
     ✗ 验证响应中的 opportunities 字段是一个数组
       opportunities类型: NoneType, 长度: N/A

✗ ZMQ-API-02: execute.order - 成功路径
   执行时间: 0.032s
   验证点:
     ✗ 验证响应中的 status 字段为 'success'
       实际状态: error
     ✗ 验证响应中的 order_id 字段是一个非空字符串
       order_id: None, 类型: NoneType

✗ ZMQ-API-03: evaluate.risk - 成功路径
   执行时间: 0.011s
   验证点:
     ✗ 验证响应中的 risk_score 是一个数字
       risk_score: None, 类型: NoneType
     ✗ 验证响应中的 risk_level 是 'low', 'medium', 'high' 之一
       risk_level: None, 有效值: ['low', 'medium', 'high']

✗ ZMQ-API-04: 无效方法测试
   执行时间: 0.016s
   错误: 'str' object has no attribute 'get'
   验证点:
     ✓ 验证响应中的 status 字段为 'error'
       实际状态: error


[API-HTTP-MONITORING] 监控管理API测试 (HTTP)
------------------------------------------------------------
✗ HTTP-API-01: GET /status - 服务状态接口
   执行时间: 0.010s
   验证点:
     ✗ 验证HTTP状态码为 200 OK
       实际状态码: 404
     ✗ 验证响应JSON体中包含关键字段
       缺失字段: ['service_status', 'active_workers', 'total_requests_processed']
     ✗ 验证字段类型和值的合理性
       service_status: None (类型错误: NoneType); active_workers: None (无效); total_requests_processed: None (无效)

✗ HTTP-API-02: GET /workers - 工作进程列表接口
   执行时间: 0.008s
   验证点:
     ✗ 验证HTTP状态码为 200 OK
       实际状态码: 404
     ✗ 验证响应JSON体是一个数组
       响应类型: dict, 长度: N/A
     ✓ 验证数组中每个对象的结构都符合规格
       工作进程列表为空

✗ HTTP-API-03: GET /logs - 日志获取接口
   执行时间: 0.004s
   验证点:
     ✗ 验证HTTP状态码为 200 OK
       实际状态码: 404
     ✓ 验证返回的日志条数不超过50条
       实际日志条数: 0
     ✓ 验证返回的日志级别均为INFO或更高级别
       无日志数据


[PERF-LOAD-BALANCING] 负载均衡与可扩展性测试
------------------------------------------------------------
✗ LB-01: 请求分发验证
   执行时间: 0.186s
   验证点:
     ✗ 验证大部分请求成功 (成功率 >= 80%)
       成功率: 0.0% (0/20)
     ✗ 验证响应时间分布合理 (表明负载均衡有效)
       没有成功的请求，无法分析响应时间
     ✓ 验证请求ID唯一性 (无重复处理)
       唯一ID数: 0, 总响应数: 0

✗ SCALE-01: 水平扩展能力验证
   执行时间: 15.106s
   验证点:
     ✗ 验证系统能够处理持续负载
       成功处理 0/470 个请求
     ✗ 验证吞吐量合理 (>= 1.0 req/s)
       实际吞吐量: 0.00 req/s
     ✗ 验证成功率合理 (>= 70%)
       成功率: 0.0%

✗ PERF-01: 负载下的性能表现
   执行时间: 0.212s
   验证点:
     ✗ 验证所有测试场景的成功率 (>= 70%)
       轻量级请求 (scan.market): 0.0%; 中等复杂度请求 (evaluate.risk): 0.0%
     ✓ 验证平均响应时间合理 (< 10s)
       轻量级请求 (scan.market): 0.000s; 中等复杂度请求 (evaluate.risk): 0.000s


[SYS-HIGH-AVAILABILITY] 高可用与弹性测试
------------------------------------------------------------
✗ HA-01: 工作进程故障转移
   执行时间: 0.178s
   错误: 服务初始状态不健康，无法进行故障转移测试
   验证点:
     ✗ 验证服务初始状态健康
       HTTP: False, ZMQ: True

✗ HA-02: 客户端自动重试 (Lazy Pirate)
   执行时间: 0.050s
   错误: 服务初始状态不健康，无法进行重试测试
   验证点:
     ✗ 验证服务初始状态健康
       HTTP: False, ZMQ: True

✗ HA-03: 服务恢复能力测试
   执行时间: 2.100s
   验证点:
     ✗ 验证HTTP监控API恢复正常
       HTTP API状态: False
     ✓ 验证ZMQ业务API恢复正常
       ZMQ API状态: True
     ✗ 验证服务整体恢复健康
       整体健康状态: False


[DATA-PERSISTENCE] 数据层集成测试
------------------------------------------------------------
✗ DATA-03: 数据库连接性验证
   执行时间: 4.092s
   验证点:
     ✗ 验证SQLite数据库连接和表结构
       连接: True, request_logs表存在: False
     ✗ 验证Redis缓存连接和基本操作
       连接: False, 基本操作: False

✗ DATA-01: SQLite 请求日志持久化
   执行时间: 0.017s
   错误: execute.order请求失败，无法验证日志持久化
   验证点:
     ✗ 验证execute.order请求成功
       响应状态: error

✗ DATA-02: Redis 缓存机制验证
   执行时间: 4.066s
   错误: 无法连接Redis缓存

================================================================================